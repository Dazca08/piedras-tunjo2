(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{jjCu:function(e,r,n){"use strict";n.r(r);var i=n("ofXK"),o=n("mrSG"),t=n("PSD3"),c=n.n(t),s=n("fXoL"),a=n("3Pt+"),u=n("AytR"),d=n("tk/3"),l=n("LRne"),b=n("JIr8"),f=n("tyNb");const h=u.a.apiUrl;let p=(()=>{class e{constructor(e,r){this.http=e,this.router=r}prepareHeaders(){const e=localStorage.getItem("token")||void 0;return e?(this.headers=new d.c({Authorization:"Bearer "+e}),!0):(this.router.navigateByUrl("/login"),!1)}ObtenerTermino(){return new Promise(e=>{this.http.get(`${h}/informacion/8`).subscribe(r=>e(r))})}update(e,r){return Object(o.a)(this,void 0,void 0,(function*(){return this.prepareHeaders()?new Promise(r=>{this.http.put(`${h}/informacion/Actualizar`,e,{headers:this.headers}).pipe(Object(b.a)(e=>Object(l.a)({ok:!1}))).subscribe(e=>{r(e.ok)})}):(console.log("Token not found"),Promise.resolve(!1))}))}}return e.\u0275fac=function(r){return new(r||e)(s.ec(d.a),s.ec(f.b))},e.\u0275prov=s.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const m=function(e){return{"is-invalid":e}};function g(e,r){if(1&e){const e=s.bc();s.ac(0,"div",2),s.ac(1,"form",3,4),s.ic("ngSubmit",(function(){s.yc(e);const r=s.xc(2);return s.kc().actualizar(r)})),s.ac(3,"div",5),s.ac(4,"button",6),s.Dc(5,"Guardar cambios"),s.Zb(),s.Zb(),s.ac(6,"div",7),s.ac(7,"textarea",8,9),s.ic("ngModelChange",(function(r){return s.yc(e),s.kc().descripcion=r})),s.Zb(),s.ac(9,"div",10),s.Dc(10," Terminos requeridos "),s.Zb(),s.ac(11,"div",10),s.Dc(12," Debe escribir los terminos y condiciones completos "),s.Zb(),s.Zb(),s.Zb(),s.Zb()}if(2&e){const e=s.xc(2),r=s.xc(8),n=s.kc();s.Jb(4),s.rc("disabled",e.invalid),s.Jb(3),s.rc("ngModel",n.descripcion)("ngClass",s.uc(5,m,r.errors&&r.touched)),s.Jb(2),s.rc("hidden",!(null!=r.errors&&r.errors.required)),s.Jb(2),s.rc("hidden",!(null!=r.errors&&r.errors.minlength))}}let v=(()=>{class e{constructor(e,r,n){this.FormBuilder=e,this.configuracions=r,this.router=n,this.descripcion=""}ngOnInit(){this.ObtenerTermino()}ObtenerTermino(){return Object(o.a)(this,void 0,void 0,(function*(){this.configuracion=yield this.configuracions.ObtenerTermino(),this.descripcion=this.configuracion.descripcion}))}actualizar(e){const{descripcion:r}=e.value;this.configuracion.descripcion=r,c.a.fire({title:"\xbfEsta seguro?",text:"\xbfDesea guardar los cambios?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Guardar!"}).then(e=>Object(o.a)(this,void 0,void 0,(function*(){e.value&&!0===(yield this.configuracions.update(this.configuracion,8))&&(c.a.fire("Guardado!","Los terminos y condiciones se actualizaron","success"),this.refrescar())})))}refrescar(){this.ObtenerTermino()}}return e.\u0275fac=function(r){return new(r||e)(s.Vb(a.b),s.Vb(p),s.Vb(f.b))},e.\u0275cmp=s.Pb({type:e,selectors:[["app-configuracion"]],decls:2,vars:1,consts:[[1,"row","justify-content-center"],["class","col-md-12",4,"ngIf"],[1,"col-md-12"],[3,"ngSubmit"],["editarconfigForm","ngForm"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"form-group"],["cols","70","rows","10","type","text","name","descripcion","required","","minlength","50",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["desc","ngModel"],[1,"invalid-feedback",3,"hidden"]],template:function(e,r){1&e&&(s.ac(0,"div",0),s.Bc(1,g,13,7,"div",1),s.Zb()),2&e&&(s.Jb(1),s.rc("ngIf",r.configuracion))},directives:[i.m,a.s,a.h,a.i,a.a,a.o,a.f,a.g,a.j,i.k],styles:[""]}),e})();var y=n("iTUp"),w=n("j1ZV");n.d(r,"ConfiguracionModule",(function(){return k}));let k=(()=>{class e{}return e.\u0275mod=s.Tb({type:e}),e.\u0275inj=s.Sb({factory:function(r){return new(r||e)},imports:[[i.b,y.a,w.a,a.e,a.n,f.e.forChild([{path:"",component:v}])]]}),e})()}}]);