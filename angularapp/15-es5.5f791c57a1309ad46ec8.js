function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{fwrt:function(e,t,a){"use strict";a.r(t);var i,c=a("ofXK"),o=a("iTUp"),r=a("tyNb"),n=a("mrSG"),s=a("PSD3"),d=a.n(s),b=a("5RHE"),l=a("fXoL"),u=a("tk/3"),v=a("AytR"),f=a("JIr8"),h=a("LRne"),k=v.a.apiUrl,g=((i=function(){function e(t,a){_classCallCheck(this,e),this.http=t,this.router=a}return _createClass(e,[{key:"ObtenerJson",value:function(){var e=localStorage.getItem("token")||void 0,t=new u.c({Authorization:"Bearer "+e});return this.http.get("".concat(k,"/tickets"),{headers:t})}},{key:"getu",value:function(){var e=localStorage.getItem("token")||void 0,t=new u.c({Authorization:"Bearer "+e});return this.http.get("".concat(k,"/Usuarios"),{headers:t})}},{key:"getRolesUsuario",value:function(){var e=localStorage.getItem("token")||void 0,t=new u.c({Authorization:"Bearer "+e});return this.http.get("".concat(k,"/Usuarios/RolesUsuario"),{headers:t})}},{key:"getTickets",value:function(){var e=localStorage.getItem("token")||void 0,t=new u.c({Authorization:"Bearer "+e});return this.http.get("".concat(k,"/tickets"),{headers:t})}},{key:"getReservas",value:function(){var e=localStorage.getItem("token")||void 0,t=new u.c({Authorization:"Bearer "+e});return this.http.get("".concat(k,"/reserva-tickets"),{headers:t})}},{key:"insertar",value:function(e){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var a,i,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token")||void 0,i=new u.c({Authorization:"Bearer "+a}),t.abrupt("return",this.http.post("".concat(k,"/reserva-tickets/crear"),e,{headers:i}).pipe(Object(f.a)((function(e){return Object(h.a)(e.error)}))).subscribe((function(e){console.log(e.ok),c.MensajedeExitoOfracaso(e.ok)}),(function(e){console.log(e.ok),console.log(e.ok),c.MensajedeExitoOfracaso(e.ok)})));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"MensajedeExitoOfracaso",value:function(e){1==e?d.a.fire("La reserva ha sido creada!","venta realizada!","success"):0==e&&d.a.fire("La reserva  no ha sido creada!","venta no realizada!","error")}}]),e}()).\u0275fac=function(e){return new(e||i)(l.ec(u.a),l.ec(r.b))},i.\u0275prov=l.Rb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),m=a("lGQG"),Z=a("5Emb"),C=a("3Pt+");function p(e,t){if(1&e&&(l.ac(0,"tr"),l.ac(1,"td"),l.Cc(2),l.Zb(),l.ac(3,"td"),l.Cc(4),l.Zb(),l.ac(5,"td"),l.Cc(6),l.Zb(),l.ac(7,"td"),l.Cc(8),l.Zb(),l.ac(9,"td"),l.Cc(10),l.Zb(),l.Zb()),2&e){var a=t.$implicit,i=t.index;l.Jb(2),l.Ec(" ",i,""),l.Jb(2),l.Ec(" ",a.FechaReserva,""),l.Jb(2),l.Ec("$ ",a.ValorTotal," "),l.Jb(2),l.Ec(" ",a.UCabanaId,""),l.Jb(2),l.Ec(" ",a.UCabana.Nombre,"")}}function y(e,t){if(1&e&&(l.ac(0,"div"),l.ac(1,"table",12),l.ac(2,"thead"),l.ac(3,"tr"),l.ac(4,"th",13),l.Cc(5,"#"),l.Zb(),l.ac(6,"th",13),l.Cc(7,"Fecha de la reserva"),l.Zb(),l.ac(8,"th",13),l.Cc(9,"Valor de la caba\xf1a"),l.Zb(),l.ac(10,"th",13),l.Cc(11,"Id de la caba\xf1a"),l.Zb(),l.ac(12,"th",13),l.Cc(13,"Nombre de la caba\xf1a"),l.Zb(),l.Zb(),l.Zb(),l.ac(14,"tbody"),l.Bc(15,p,11,5,"tr",14),l.Zb(),l.Zb(),l.Zb()),2&e){var a=l.kc();l.Jb(15),l.rc("ngForOf",a.reservaCabanasAll)}}function T(e,t){1&e&&(l.ac(0,"div"),l.ac(1,"h6"),l.Cc(2,"Lo sentimos no existen preguntas frecuentes en este momento"),l.Zb(),l.Zb())}function I(e,t){if(1&e&&(l.ac(0,"tr"),l.ac(1,"td"),l.Cc(2),l.Zb(),l.ac(3,"td"),l.Cc(4),l.Zb(),l.ac(5,"td"),l.Cc(6),l.Zb(),l.ac(7,"td"),l.Cc(8),l.Zb(),l.ac(9,"td"),l.Cc(10),l.Zb(),l.Zb()),2&e){var a=t.$implicit,i=t.index;l.Jb(2),l.Ec(" ",i,""),l.Jb(2),l.Ec(" ",a.FechaReserva,""),l.Jb(2),l.Ec("$ ",a.ValorTotal,""),l.Jb(2),l.Ec(" ",a.UCabanaId,""),l.Jb(2),l.Ec(" ",a.UCabana.Nombre,"")}}function U(e,t){if(1&e&&(l.ac(0,"div"),l.ac(1,"table",12),l.ac(2,"thead"),l.ac(3,"tr"),l.ac(4,"th",13),l.Cc(5,"#"),l.Zb(),l.ac(6,"th",13),l.Cc(7,"Fecha de la reserva"),l.Zb(),l.ac(8,"th",13),l.Cc(9,"Valor de la caba\xf1a"),l.Zb(),l.ac(10,"th",13),l.Cc(11,"Id de la caba\xf1a"),l.Zb(),l.ac(12,"th",13),l.Cc(13,"Nombre de la caba\xf1a"),l.Zb(),l.Zb(),l.Zb(),l.ac(14,"tbody"),l.Bc(15,I,11,5,"tr",14),l.Zb(),l.Zb(),l.Zb()),2&e){var a=l.kc();l.Jb(15),l.rc("ngForOf",a.reservaCabanas)}}function J(e,t){1&e&&(l.ac(0,"div"),l.ac(1,"div",8),l.ac(2,"h6"),l.Cc(3,"Lo sentimos no existen reservas de caba\xf1as el dia de hoy"),l.Zb(),l.Zb(),l.Zb())}function w(e,t){if(1&e&&(l.ac(0,"div"),l.ac(1,"div",15),l.ac(2,"div",16),l.ac(3,"div",17),l.ac(4,"h3"),l.Wb(5,"i",18),l.Cc(6),l.Zb(),l.Zb(),l.Zb(),l.ac(7,"div",19),l.ac(8,"a",20),l.Wb(9,"i",21),l.Cc(10," Reservas de caba\xf1as "),l.Zb(),l.Zb(),l.ac(11,"div",16),l.ac(12,"a",22),l.Wb(13,"i",21),l.Cc(14," Reservas de caba\xf1as del dia "),l.Zb(),l.Zb(),l.Zb(),l.Zb()),2&e){var a=l.kc();l.Jb(6),l.Ec(" ",a.titulo," ")}}function S(e,t){if(1&e){var a=l.bc();l.ac(0,"div"),l.ac(1,"div",15),l.ac(2,"div",19),l.ac(3,"form",23),l.ic("submit",(function(){return l.yc(a),l.kc().Inicio()})),l.ac(4,"button",24),l.ac(5,"h4"),l.Wb(6,"i",25),l.Cc(7," Volver al inicio"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(8,"div",26),l.ac(9,"div",27),l.ac(10,"h3"),l.Wb(11,"i",18),l.Cc(12),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()}if(2&e){var i=l.kc();l.Jb(12),l.Ec(" ",i.titulo," ")}}function M(e,t){if(1&e){var a=l.bc();l.ac(0,"div"),l.ac(1,"div",11),l.ac(2,"div",17),l.ac(3,"div",15),l.Wb(4,"div",28),l.ac(5,"div",16),l.ac(6,"div",29),l.Wb(7,"br"),l.Wb(8,"img",30),l.ac(9,"div",31),l.ac(10,"b",32),l.Cc(11,"Vender tickets a clientes que se encuentren registrados en el sistema "),l.Zb(),l.Zb(),l.ac(12,"div",33),l.ac(13,"form",23),l.ic("submit",(function(){return l.yc(a),l.kc().DatosClienteRegistrado()})),l.ac(14,"div",17),l.ac(15,"button",24),l.ac(16,"h4"),l.Wb(17,"i",34),l.Cc(18," Clientes Registrados"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Wb(19,"div",35),l.ac(20,"div",16),l.ac(21,"div",8),l.ac(22,"div",29),l.Wb(23,"br"),l.Wb(24,"img",30),l.ac(25,"div",31),l.ac(26,"b",32),l.Cc(27,"Vender tickets a clientes que no se encuentren registrados en el sistema "),l.Zb(),l.Zb(),l.ac(28,"div",33),l.ac(29,"form",23),l.ic("submit",(function(){return l.yc(a),l.kc().DatosClienteNoRegistrado()})),l.ac(30,"div",17),l.ac(31,"button",36),l.ac(32,"h4"),l.Wb(33,"i",37),l.Cc(34," Clientes No registrados"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()}2&e&&(l.Jb(8),l.rc("src","assets/imagenes/UR.png",l.zc),l.Jb(16),l.rc("src","assets/imagenes/UN.png",l.zc))}function R(e,t){if(1&e&&(l.ac(0,"option",59),l.Cc(1),l.Zb()),2&e){var a=t.$implicit;l.sc("value",a.Id),l.Jb(1),l.Dc(a.Nombre)}}function E(e,t){if(1&e){var a=l.bc();l.ac(0,"div"),l.ac(1,"div",17),l.ac(2,"div",0),l.ac(3,"div",8),l.ac(4,"div",38),l.ac(5,"h4"),l.Cc(6,"Formulario de Venta"),l.Zb(),l.Zb(),l.ac(7,"div",31),l.ac(8,"form",39,40),l.ic("ngSubmit",(function(){l.yc(a);var e=l.xc(9);return l.kc().RealizarVenta(e)})),l.ac(10,"div",41),l.ac(11,"div",15),l.ac(12,"div",0),l.ac(13,"div",42),l.ac(14,"label",43),l.Wb(15,"i",18),l.Cc(16," Tipo de Ticket"),l.Zb(),l.ac(17,"select",44,45),l.ic("ngModelChange",(function(e){return l.yc(a),l.kc().ticket.idTicket=e})),l.Bc(19,R,2,2,"option",46),l.Zb(),l.Zb(),l.Zb(),l.ac(20,"div",0),l.ac(21,"label",47),l.Cc(22," Precio Unitario "),l.Zb(),l.Wb(23,"br"),l.ac(24,"label"),l.Wb(25,"i",48),l.Cc(26),l.Zb(),l.Zb(),l.Zb(),l.Wb(27,"hr"),l.ac(28,"div",15),l.ac(29,"div",0),l.ac(30,"div",42),l.ac(31,"label",49),l.Wb(32,"i",50),l.Cc(33," Numero de Documento"),l.Zb(),l.ac(34,"input",51,52),l.ic("ngModelChange",(function(e){return l.yc(a),l.kc().ticket.NumeroDocumento=e})),l.Zb(),l.Zb(),l.Zb(),l.ac(36,"div",0),l.ac(37,"div",42),l.ac(38,"label",53),l.Wb(39,"i",54),l.Cc(40," Cantidad de Tickets "),l.Zb(),l.ac(41,"input",55,56),l.ic("ngModelChange",(function(e){return l.yc(a),l.kc().ticket.Cantidad=e})),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Wb(43,"hr"),l.ac(44,"div",17),l.ac(45,"button",57),l.Wb(46,"i",58),l.Cc(47," Realizar Venta"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()}if(2&e){var i=l.kc();l.Jb(17),l.rc("ngModel",i.ticket.idTicket),l.Jb(2),l.rc("ngForOf",i.ticktes),l.Jb(7),l.Ec(" $",i.ticktes[i.ticket.idTicket].Precio,""),l.Jb(8),l.rc("ngModel",i.ticket.NumeroDocumento),l.Jb(7),l.rc("ngModel",i.ticket.Cantidad)}}function D(e,t){if(1&e&&(l.ac(0,"option",59),l.Cc(1),l.Zb()),2&e){var a=t.$implicit;l.sc("value",a.Id),l.Jb(1),l.Ec("",a.Nombre," ")}}function F(e,t){if(1&e){var a=l.bc();l.ac(0,"div"),l.ac(1,"div",17),l.ac(2,"div",0),l.ac(3,"div",8),l.ac(4,"div",38),l.ac(5,"h4"),l.Cc(6,"Formulario de Venta"),l.Zb(),l.Zb(),l.ac(7,"div",31),l.ac(8,"form",39,40),l.ic("ngSubmit",(function(){l.yc(a);var e=l.xc(9);return l.kc().RealizarVenta(e)})),l.ac(10,"div",41),l.ac(11,"div",15),l.ac(12,"div",0),l.ac(13,"div",42),l.ac(14,"label",43),l.Wb(15,"i",18),l.Cc(16," Tipo de Ticket"),l.Zb(),l.ac(17,"select",44,45),l.ic("ngModelChange",(function(e){return l.yc(a),l.kc().ticket.idTicket=e})),l.Bc(19,D,2,2,"option",46),l.Zb(),l.Zb(),l.Zb(),l.ac(20,"div",0),l.ac(21,"label",47),l.Cc(22," Precio Unitario "),l.Zb(),l.Wb(23,"br"),l.ac(24,"label"),l.Wb(25,"i",60),l.Cc(26),l.Zb(),l.Zb(),l.Zb(),l.Wb(27,"hr"),l.ac(28,"div",15),l.ac(29,"div",0),l.ac(30,"div",42),l.ac(31,"label",61),l.Wb(32,"i",50),l.Cc(33," E-mail del Usuario"),l.Zb(),l.ac(34,"input",62,63),l.ic("ngModelChange",(function(e){return l.yc(a),l.kc().ticket.UUsuario=e})),l.Zb(),l.Zb(),l.Zb(),l.ac(36,"div",0),l.ac(37,"div",42),l.ac(38,"label",53),l.Wb(39,"i",54),l.Cc(40," Cantidad de Tickets"),l.Zb(),l.ac(41,"input",55,56),l.ic("ngModelChange",(function(e){return l.yc(a),l.kc().ticket.Cantidad=e})),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Wb(43,"hr"),l.ac(44,"div",17),l.ac(45,"button",57),l.Wb(46,"i",58),l.Cc(47," Realizar Venta"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()}if(2&e){var i=l.kc();l.Jb(17),l.rc("ngModel",i.ticket.idTicket),l.Jb(2),l.rc("ngForOf",i.ticktes),l.Jb(7),l.Ec(" $",i.ticktes[i.ticket.idTicket].Precio,""),l.Jb(8),l.rc("ngModel",i.ticket.UUsuario),l.Jb(7),l.rc("ngModel",i.ticket.Cantidad)}}var N,P=((N=function(){function e(t,a,i,c){_classCallCheck(this,e),this.router=t,this.ServicioTicket=a,this.authService=i,this.reservaCabService=c,this.ticket={Id:"",FechaCompra:"",FechaIngreso:"",Precio:"",Cantidad:0,Qr:"",Token:"",LastModification:"",EstadoId:"",idTicket:0,NumeroDocumento:0,UUsuarioId:0,UUsuario:""},this.ticketVacio={Id:"",FechaCompra:"",FechaIngreso:"",Precio:"",Cantidad:0,Qr:"",Token:"",LastModification:"",EstadoId:"",idTicket:0,NumeroDocumento:0,UUsuarioId:0,UUsuario:""},this.bandera=null,this.titulo="Venta de tickets",this.exportAsConfig={type:"png",elementId:"element"},this.letsboot="",this.comparativo=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.ObtenerTickets(),this.prepare();var e=Date.now();console.log(e)}},{key:"MensajePrecio",value:function(e){d.a.fire("Tickets Verificados!","Precio total en la transaccion :"+e,"info"),this.refrescar()}},{key:"ObtenerUsuarioCajero",value:function(){var e=this;this.authService.getUsuario().then((function(t){return e.ServicioTicket.getu().subscribe((function(a){e.k=a,e.k=e.k.filter((function(e){return e.Id==t.Id})),console.log(e.k),console.log(e.ticket),e.ticket.FechaCompra=(new Date).toString(),e.ticket.FechaIngreso=e.ticket.FechaCompra,e.ticket.EstadoId="1",e.ticket.LastModification=(new Date).toString(),e.ticket.UUsuarioId=e.k[0].Id,e.ticket.UUsuario=" ",e.ticket.Precio=(e.ticktes[e.ticket.idTicket].Precio*e.ticket.Cantidad).toString(),e.ticket.Token=e.ticket.idTicket.toString();var i=e.ticket.toString();e.ticket.Qr=i,e.letsboot=e.ticket.NumeroDocumento,console.log("ticket antes de enviar"),console.log(e.ticket),e.ServicioTicket.insertar(e.ticket),setTimeout((function(){e.CreatePdf(e.ticket)}),2e3)}))}))}},{key:"ObtenerUsuarios",value:function(e){var t=this;this.ServicioTicket.getu().subscribe((function(a){if(console.log(e.UUsuario),t.usuarios=a,t.usuarios=t.usuarios.filter((function(t){return t.CorreoElectronico==e.UUsuario})),console.log(t.usuarios),0==t.usuarios.length)d.a.fire("El correo no existe entre los usuarios registrados!","venta no realizada!","error");else{console.log("ticket en obtener usuarios al inicio del else"),console.log(t.ticket),t.ticket.FechaCompra=Date.now().toString(),t.ticket.FechaIngreso=t.ticket.FechaCompra,t.ticket.UUsuarioId=t.usuarios[0].Id,t.ticket.EstadoId="1",t.ticket.LastModification=Date.now().toString();var i=parseInt(e.Cantidad,10);t.ticket.Cantidad=e.Cantidad,t.ticket.idTicket=e.idTicket,t.ticket.Precio=(t.ticktes[e.idTicket].Precio*i).toString(),t.ticket.Token=t.ticket.idTicket.toString(),t.ticket.NumeroDocumento=t.usuarios[0].NumeroDocumento,t.ticket.UUsuario="",t.ticket.Qr=t.ticket.toString(),console.log("ticket en obtener usuarios con valor que se le va a pasar a value"),console.log(t.ticket),e=t.ticket,console.log(t.usuarios),console.log(e),t.ServicioTicket.insertar(e),setTimeout((function(){t.MensajePrecio(e.Precio)}),2e3)}console.log(e)}),(function(e){console.log(JSON.stringify(e))}))}},{key:"yyyymmdd",value:function(e){var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return console.log(t),a<10&&(a="0"+a),console.log(a),i<10&&(i="0"+i),console.log(i),String(t+"-"+a+"-"+i)}},{key:"prepare",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reservaCabService.getReservasCabanas();case 2:return this.reservaCabanas=e.sent,e.next=5,this.reservaCabService.getReservasCabanas();case 5:for(this.reservaCabanasAll=e.sent,console.log(this.reservaCabanas),t=0;t<this.reservaCabanas.length;t++)this.fechatemp=this.reservaCabanas[t].FechaReserva,a=this.fechatemp.split("T",2),this.fechatemp=a[0],this.reservaCabanas[t].FechaReserva=this.fechatemp,this.reservaCabanasAll[t].FechaReserva=this.fechatemp;i=new Date,c=this.yyyymmdd(i),console.log(c),this.reservaCabanas=this.reservaCabanas.filter((function(e){return e.FechaReserva.toString()==c})),console.log(this.reservaCabanas),console.log(this.reservaCabanasAll);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"ObtenerTickets",value:function(){var e=this;this.ServicioTicket.getTickets().subscribe((function(t){e.ticktes=t;for(var a=0;a<e.ticktes.length;a++)e.ticktes[a].Id=e.ticktes[a].Id-1;console.log(e.ticktes),console.log("Informacion ya tiene resultado")}),(function(e){console.log(JSON.stringify(e))}))}},{key:"DatosClienteRegistrado",value:function(){null==this.bandera&&(this.bandera=!0,this.titulo="Venta de tickets a clientes registrados",this.refrescar())}},{key:"DatosClienteNoRegistrado",value:function(){null==this.bandera&&(this.bandera=!1,this.titulo="Venta de tickets a clientes NO registrados",this.refrescar())}},{key:"Inicio",value:function(){0!=this.bandera&&1!=this.bandera||(this.bandera=null,this.titulo="Venta de Tickets ",this.refrescar())}},{key:"RealizarVenta",value:function(e){var t=e.value;console.log(t),console.log("ticket cuando ingresa al realizar venta"),console.log(this.ticket),1==this.bandera&&""==t.UUsuario?d.a.fire("Por favor llene todos los campos!","venta no realizada!","error"):1==this.bandera&&t.UUsuario.length<5?d.a.fire("El correo debe contener al menos 5 caracteres para ser valido!","venta no realizada!","error"):0==this.bandera&&t.NumeroDocumento<1e7||t.NumeroDocumento>9999999999?d.a.fire("El numero de documento es invalido , debe tener al menos 8 digitos y maximo 10!","venta no realizada!","error"):t.Cantidad>10?d.a.fire("La cantidad maxima de tickets que puede comprar un usuario son 10!","venta no realizada!","error"):0==t.Cantidad||null==t.idTicket?d.a.fire("Por favor llene todos los campos!","venta no realizada!","error"):(1==this.bandera?this.ObtenerUsuarios(t):0==this.bandera&&this.ObtenerUsuarioCajero(),console.log("ticket despues de la funcion obtener usuarios"),console.log(this.ticket),console.log("ticket despues de refrescar en la funcion de realizar ventas"),console.log(this.ticket))}},{key:"refrescar",value:function(){console.log("entro a refrescar"),this.ticket.Id="",this.ticket.FechaCompra="",this.ticket.FechaIngreso="",this.ticket.Precio="",this.ticket.Cantidad=0,this.ticket.Qr="",this.ticket.Token="",this.ticket.LastModification="",this.ticket.EstadoId="",this.ticket.idTicket=0,this.ticket.UUsuarioId=0,this.ticket.UUsuario="",this.ticket.NumeroDocumento=0,this.ticket=this.ticketVacio,console.log(this.ticket)}},{key:"CreatePdf",value:function(e){var t=this;d.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",d.a.stopTimer),e.addEventListener("mouseleave",d.a.resumeTimer)}}).fire({icon:"success",title:"Descargando Tickets"}),this.ServicioTicket.getReservas().subscribe((function(a){t.reservaCreada=a.reservas,t.reservaCreada=t.reservaCreada.filter((function(t){return t.NumeroDocumento==e.NumeroDocumento})),console.log(t.reservaCreada);var i="";t.ServicioTicket.getTickets().subscribe((function(a){var c=a;console.log(c),console.log(e.idTicket),t.comparativo=parseInt(e.idTicket,10)+1,console.log(t.comparativo),c=c.filter((function(e){return e.Id==t.comparativo})),console.log(c),i=c[0].Nombre;var o=new Image,r=t.reservaCreada[0].Qr;console.log(t.reservaCreada.length),o.src="http://piedrasdeltunjo.tk/images/getImage?tipo=reserva-tickets&nombre="+r+".JPEG";var n=new b;n.text("Recibo compra de ticket piedras del tunjo",55,10),n.addImage(o,"jpg",80,40,50,50),n.text("Identificacion  : "+e.NumeroDocumento.toString(),70,120),n.text("Tipo de ticket : "+i,70,130),n.text("Precio Total : "+e.Precio,70,140),n.text("Cantidad de tiquets para este recibo:"+e.Cantidad,70,150),n.text("Nota : Para ingresar al parque debes presentar este Recibo en la entrada  ",20,180),n.save("ticket : "+r),setTimeout((function(){t.MensajePrecio(e.Precio)}),1500)}))}))}}]),e}()).\u0275fac=function(e){return new(e||N)(l.Vb(r.b),l.Vb(g),l.Vb(m.a),l.Vb(Z.a))},N.\u0275cmp=l.Pb({type:N,selectors:[["app-venta-t"]],decls:36,vars:9,consts:[[1,"col-md-6"],["id","All",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],[1,"modal-title"],["data-dismiss","modal",1,"close"],["botonCerrar",""],[1,"card"],[4,"ngIf"],["id","DAY",1,"modal","fade"],[1,"container"],[1,"table","table-bordered","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-4"],["align","center"],[1,"fas","fa-ticket-alt"],[1,"col-md-3"],["href","#","data-toggle","modal","data-target","#All",1,"btn","btn-dark","btn-block",2,"width","200"],[1,"fas","fa-home"],["href","#","data-toggle","modal","data-target","#DAY",1,"btn","btn-dark","btn-block",2,"width","250"],[3,"submit"],["type","submit",1,"btn","btn-info"],[1,"fas","fa-arrow-circle-left"],[1,"col-md-8"],["align","left"],[1,"col-md-1"],[1,"card",2,"width","370"],["alt","",2,"width","100, height:200",3,"src"],[1,"card-body"],[1,"text-muted"],[1,"card-footer"],[1,"fas","fa-user-check"],[1,"col-md-2"],["type","submit",1,"btn","btn-danger"],[1,"fas","fa-user-times"],[1,"card-header"],[3,"ngSubmit"],["VentaForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","idTicket"],["name","idTicket",1,"form-control",2,"width","200",3,"ngModel","ngModelChange"],["idTicket","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-dollar-sign"],[1,""],["for","NumeroDocumento"],[1,"fas","fa-pencil-alt"],["type","number","name","NumeroDocumento",1,"form-control",3,"ngModel","ngModelChange"],["NumeroDocumento","ngModel"],["for","Cantidad"],[1,"fas","fa-list-ol"],["type","number","name","Cantidad",1,"form-control",3,"ngModel","ngModelChange"],["Cantidad","ngModel"],["type","submit",1,"btn","btn-primary",2,"width","200px"],[1,"fas","fa-hand-holding-usd"],[3,"value"],[1,"margin-top:70px"],["for","UUsuario"],["type","text","name","UUsuario",1,"form-control",3,"ngModel","ngModelChange"],["UUsuario","ngModel"]],template:function(e,t){1&e&&(l.ac(0,"div",0),l.ac(1,"div",1),l.ac(2,"div",2),l.ac(3,"div",3),l.ac(4,"div",4),l.ac(5,"h6",5),l.Cc(6,"reservas de caba\xf1as"),l.Zb(),l.ac(7,"button",6,7),l.ac(9,"span"),l.Cc(10,"\xd7"),l.Zb(),l.Zb(),l.Zb(),l.ac(11,"div",8),l.Bc(12,y,16,1,"div",9),l.Bc(13,T,3,0,"div",9),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(14,"div",0),l.ac(15,"div",10),l.ac(16,"div",2),l.ac(17,"div",3),l.ac(18,"div",4),l.ac(19,"h6",5),l.Cc(20,"reservas de caba\xf1as"),l.Zb(),l.ac(21,"button",6,7),l.ac(23,"span"),l.Cc(24,"\xd7"),l.Zb(),l.Zb(),l.Zb(),l.Bc(25,U,16,1,"div",9),l.Bc(26,J,4,0,"div",9),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(27,"div",11),l.Bc(28,w,15,1,"div",9),l.Bc(29,S,13,1,"div",9),l.Zb(),l.Wb(30,"hr"),l.Wb(31,"br"),l.Bc(32,M,35,2,"div",9),l.Bc(33,E,48,5,"div",9),l.Bc(34,F,48,5,"div",9),l.Wb(35,"br")),2&e&&(l.Jb(12),l.rc("ngIf",t.reservaCabanasAll.length>0),l.Jb(1),l.rc("ngIf",0==t.reservaCabanasAll.length),l.Jb(12),l.rc("ngIf",t.reservaCabanas.length>0),l.Jb(1),l.rc("ngIf",0==t.reservaCabanas.length),l.Jb(2),l.rc("ngIf",null==t.bandera),l.Jb(1),l.rc("ngIf",null!=t.bandera),l.Jb(3),l.rc("ngIf",null==t.bandera),l.Jb(1),l.rc("ngIf",0==t.bandera),l.Jb(1),l.rc("ngIf",1==t.bandera))},directives:[c.m,c.l,C.r,C.h,C.i,C.o,C.g,C.j,C.l,C.a,C.k,C.q],styles:[""]}),N),W=a("oOf3");a.d(t,"VentamoduleModule",(function(){return O}));var x,O=((x=function e(){_classCallCheck(this,e)}).\u0275mod=l.Tb({type:x}),x.\u0275inj=l.Sb({factory:function(e){return new(e||x)},imports:[[c.b,C.e,W.a,o.a,r.e.forChild([{path:"",component:P}])]]}),x)}}]);