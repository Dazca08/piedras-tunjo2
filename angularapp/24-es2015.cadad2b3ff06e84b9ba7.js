(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"6pye":function(i,t,e){"use strict";e.r(t);var n=e("ofXK"),r=e("mrSG"),o=e("3Pt+"),c=e("fXoL"),s=e("zbXe"),a=e("lA0O"),b=e("tyNb"),l=e("SZog");function d(i,t){1&i&&(c.Yb(0,"span"),c.Ac(1," El titulo es requerido "),c.Xb())}function u(i,t){1&i&&(c.Yb(0,"span"),c.Ac(1," La descripcion es requerida "),c.Xb())}let f=(()=>{class i{constructor(i,t,e,n){this.fb=i,this.noticiasService=t,this.imagesService=e,this.router=n,this.files=[]}ngOnInit(){this.formNoticia=this.fb.group({titulo:["",o.q.required],descripcion:["",o.q.required]})}onSubmit(){return Object(r.a)(this,void 0,void 0,(function*(){const i=yield this.imagesService.uploadMultipleImages(this.files,"noticia");if(""!==i){const t=Object.assign(Object.assign({},this.formNoticia.value),{calificacion:0,estado:1,imagenesUrl:i});(yield this.noticiasService.agregarNoticia(t))&&this.router.navigateByUrl("/noticias")}}))}onChangeFile(i){this.files=i}getValidationClass(i){const t=this.formNoticia.get(i);return t.untouched&&t.pristine?{}:{"is-valid":t.valid,"is-invalid":t.invalid}}get titulo(){return this.formNoticia.get("titulo")}get descripcion(){return this.formNoticia.get("descripcion")}}return i.\u0275fac=function(t){return new(t||i)(c.Tb(o.b),c.Tb(s.a),c.Tb(a.a),c.Tb(b.b))},i.\u0275cmp=c.Nb({type:i,selectors:[["app-agregar"]],decls:33,vars:6,consts:[[1,"row","justify-content-center","mt-2"],[1,"col-md-8","col-sm-12"],["routerLink","/noticias",1,"btn","btm-sm","btn-primary"],[1,"fas","fa-arrow-left"],[3,"formGroup","ngSubmit"],[1,"card","shadow"],[1,"card-header","text-center"],[1,"text-muted"],[1,"card-body"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"form-group"],["type","text","formControlName","titulo",1,"form-control",3,"ngClass"],[1,"valid-feedback"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","formControlName","descripcion",1,"form-control",3,"ngClass"],[3,"changeFiles"],[1,"card-footer","text-center"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(i,t){1&i&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"button",2),c.Ub(3,"i",3),c.Xb(),c.Yb(4,"form",4),c.gc("ngSubmit",(function(){return t.onSubmit()})),c.Yb(5,"div",5),c.Yb(6,"div",6),c.Yb(7,"b",7),c.Ac(8,"NUEVA NOTICIA"),c.Xb(),c.Xb(),c.Yb(9,"div",8),c.Yb(10,"div",9),c.Yb(11,"div",10),c.Yb(12,"div",11),c.Yb(13,"b",7),c.Ac(14,"Titulo"),c.Xb(),c.Ub(15,"input",12),c.Yb(16,"div",13),c.Ac(17,"Ok!"),c.Xb(),c.Yb(18,"div",14),c.yc(19,d,2,0,"span",15),c.Xb(),c.Xb(),c.Yb(20,"div",11),c.Yb(21,"b",7),c.Ac(22,"Descripci\xf3n"),c.Xb(),c.Ub(23,"input",16),c.Yb(24,"div",13),c.Ac(25,"Ok!"),c.Xb(),c.Yb(26,"div",14),c.yc(27,u,2,0,"span",15),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"div",10),c.Yb(29,"app-images-upload",17),c.gc("changeFiles",(function(i){return t.onChangeFile(i)})),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(30,"div",18),c.Yb(31,"button",19),c.Ac(32,"Guardar"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&i&&(c.Hb(4),c.nc("formGroup",t.formNoticia),c.Hb(11),c.nc("ngClass",t.getValidationClass("titulo")),c.Hb(4),c.nc("ngIf",null==t.titulo.errors?null:t.titulo.errors.required),c.Hb(4),c.nc("ngClass",t.getValidationClass("descripcion")),c.Hb(4),c.nc("ngIf",null==t.descripcion.errors?null:t.descripcion.errors.required),c.Hb(4),c.nc("disabled",t.formNoticia.invalid||0===t.files.length))},directives:[b.c,o.s,o.h,o.d,o.a,o.g,o.c,n.k,n.m,l.a],styles:[""]}),i})();var p=e("j1ZV");e.d(t,"AgregarModule",(function(){return g}));let g=(()=>{class i{}return i.\u0275mod=c.Rb({type:i}),i.\u0275inj=c.Qb({factory:function(t){return new(t||i)},imports:[[n.b,p.a,o.e,o.n,b.e.forChild([{path:"",component:f}])]]}),i})()}}]);